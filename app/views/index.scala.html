<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentiment Analysis NLP - Product Review Analyzer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/main.css")">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-chart-line"></i> Sentiment Analysis NLP
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#analyze">Analyze</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#compare">Compare</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#history">History</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Hero Section -->
        <div class="hero-section text-center mb-5">
            <h1 class="display-4 text-primary">Product Review Sentiment Analysis</h1>
            <p class="lead">Analyze customer sentiment, compare products, and make data-driven decisions</p>
        </div>

        <!-- Analysis Section -->
        <div id="analyze" class="section mb-5">
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-search"></i> Sentiment Analysis</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <!-- Dataset Analysis -->
                            <div class="analysis-option mb-4">
                                <h5><i class="fas fa-file-upload"></i> Dataset Analysis</h5>
                                <form id="datasetForm" enctype="multipart/form-data">
                                    <div class="mb-3">
                                        <label for="productName" class="form-label">Product Name</label>
                                        <input type="text" class="form-control" id="productName" name="productName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="datasetFile" class="form-label">Dataset File (CSV/JSON/Excel)</label>
                                        <input type="file" class="form-control" id="datasetFile" name="dataset" accept=".csv,.json,.xlsx,.xls" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="datasetType" class="form-label">Dataset Type</label>
                                        <select class="form-select" id="datasetType" name="datasetType">
                                            <option value="csv">CSV</option>
                                            <option value="json">JSON</option>
                                            <option value="excel">Excel</option>
                                        </select>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="isPreprocessed" name="isPreprocessed">
                                        <label class="form-check-label" for="isPreprocessed">
                                            Data is already preprocessed
                                        </label>
                                    </div>
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-analytics"></i> Analyze Dataset
                                    </button>
                                </form>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <!-- URL Analysis -->
                            <div class="analysis-option">
                                <h5><i class="fas fa-link"></i> URL Analysis</h5>
                                <form id="urlForm">
                                    <div class="mb-3">
                                        <label for="productUrls" class="form-label">Product URLs (one per line)</label>
                                        <textarea class="form-control" id="productUrls" name="productUrls" rows="4"
                                                placeholder="https://www.amazon.com/product-url&#10;https://www.flipkart.com/product-url" required></textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label for="productNames" class="form-label">Product Names (optional, one per line)</label>
                                        <textarea class="form-control" id="productNames" name="productNames" rows="4"
                                                placeholder="Product Name 1&#10;Product Name 2"></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-success">
                                        <i class="fas fa-globe"></i> Analyze URLs
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Compare Section -->
        <div id="compare" class="section mb-5 d-none">
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-balance-scale"></i> Product Comparison</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <!-- Dataset Comparison -->
                            <div class="comparison-option mb-4">
                                <h5><i class="fas fa-file-upload"></i> Compare Datasets</h5>
                                <form id="datasetCompareForm" enctype="multipart/form-data">
                                    <div class="mb-3">
                                        <label for="comparisonName" class="form-label">Comparison Name</label>
                                        <input type="text" class="form-control" id="comparisonName" name="name" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="comparisonDescription" class="form-label">Description (optional)</label>
                                        <textarea class="form-control" id="comparisonDescription" name="description" rows="2"></textarea>
                                    </div>
                                    <div id="datasetFiles">
                                        <div class="dataset-file-group mb-3">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label class="form-label" for="productName">Product Name</label>
                                                    <input type="text" class="form-control product-name" id="productName" name="productNames" placeholder="Enter product name" required>
                                                </div>
                                                <div class="col-md-6">
                                                    <label class="form-label" for="datasetFile">Dataset File</label>
                                                    <input type="file" class="form-control dataset-file" id="datasetFile" name="datasets" accept=".csv,.json,.xlsx,.xls" title="Select CSV, JSON, or Excel file" required>
                                                </div>
                                            </div>
                                            <div class="row mt-2">
                                                <div class="col-md-6">
                                                    <label class="form-label" for="datasetType">Dataset Type</label>
                                                    <select class="form-select dataset-type" id="datasetType" name="datasetTypes" aria-label="Select dataset type">
                                                        <option value="csv">CSV</option>
                                                        <option value="json">JSON</option>
                                                        <option value="excel">Excel</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-check">
                                                        <input class="form-check-input is-preprocessed" type="checkbox" id="isPreprocessed" name="isPreprocessed">
                                                        <label class="form-check-label" for="isPreprocessed">Data is preprocessed</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-secondary btn-sm" id="addDatasetFile">
                                        <i class="fas fa-plus"></i> Add Another Dataset
                                    </button>
                                    <button type="submit" class="btn btn-primary ms-2">
                                        <i class="fas fa-balance-scale"></i> Compare Datasets
                                    </button>
                                </form>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <!-- URL Comparison -->
                            <div class="comparison-option">
                                <h5><i class="fas fa-link"></i> Compare URLs</h5>
                                <form id="urlCompareForm">
                                    <div class="mb-3">
                                        <label for="urlComparisonName" class="form-label">Comparison Name</label>
                                        <input type="text" class="form-control" id="urlComparisonName" name="name" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="urlComparisonDescription" class="form-label">Description (optional)</label>
                                        <textarea class="form-control" id="urlComparisonDescription" name="description" rows="2"></textarea>
                                    </div>
                                    <div id="productUrls">
                                        <div class="product-url-group mb-3">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label class="form-label" for="urlProductName">Product Name</label>
                                                    <input type="text" class="form-control url-product-name" id="urlProductName" placeholder="Enter product name" required>
                                                </div>
                                                <div class="col-md-6">
                                                    <label class="form-label">Product URLs</label>
                                                    <textarea class="form-control url-product-urls" rows="2" placeholder="One URL per line" required></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-secondary btn-sm" id="addProductUrl">
                                        <i class="fas fa-plus"></i> Add Another Product
                                    </button>
                                    <button type="submit" class="btn btn-success ms-2">
                                        <i class="fas fa-balance-scale"></i> Compare URLs
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results" class="section mb-5 d-none">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h3><i class="fas fa-chart-pie"></i> Analysis Results</h3>
                    <div class="export-buttons">
                        <button id="exportPDF" class="btn btn-outline-danger btn-sm">
                            <i class="fas fa-file-pdf"></i> Export PDF
                        </button>
                        <button id="exportCSV" class="btn btn-outline-success btn-sm">
                            <i class="fas fa-file-csv"></i> Export CSV
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <div id="resultsContent">
                        <!-- Results will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- History Section -->
        <div id="history" class="section mb-5 d-none">
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-history"></i> Analysis History</h3>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped" id="historyTable">
                            <thead>
                                <tr>
                                    <th>Product Name</th>
                                    <th>Input Type</th>
                                    <th>Total Reviews</th>
                                    <th>Positive %</th>
                                    <th>Negative %</th>
                                    <th>Overall Sentiment</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- History will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Modal -->
        <div class="modal fade" id="loadingModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-body text-center p-4">
                        <div class="spinner-border text-primary mb-3" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <h5 id="loadingText">Processing your request...</h5>
                        <p class="text-muted" id="loadingSubtext">This may take a few moments</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-light text-center py-4 mt-5">
        <div class="container">
            <p class="text-muted mb-0">Â© 2024 Sentiment Analysis NLP System. Built with Scala, Play Framework, and Stanford CoreNLP.</p>
        </div>
    </footer>

    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>
    <script src="@routes.Assets.versioned("javascripts/main.js")"></script>
</body>
</html>
